2109/11/09 SNS_Project


・docファイルの作成
・新規登録フォーム作成
email、user_name、passwordの登録
・eclipseから編集できないこと
・コメント機能の実装
「返信」ボタンを作成返信フォームへ遷移、todo_idに紐づいたコメントレコードを表示
todo：コメントは１対多where todo_idでcomment_idを取得→コメントレコードを取得表示する
表示に関してはtodoを参考にする

返信フォームの作成→実装済み
フォームの入力内容は「名前」
テキストボックスにセッション変数(user_name)をデフォルト表示
$return_nameにpostの値を格納、投稿者名を変更可能にする
comment.phpで「返信する」を押下後todo.phpにリダイレクトをかける
_ajaxはTodo.phpにポストが渡されるので使うことはできない。
DBにポストされた値を格納(insert)

・物理削除追加削除したtodo_idに該当するcomment_idを取得しwhere区でまとめて消去する
１．全削除の場合→コメントも全削除
２．一括削除の場合→_ajaxに渡すポストの値にtodo_idを追加する。あるいはstate=1を追加しなければならない。stateの方がおそらく楽

DB追加は可能、しかしコメント挿入時のfadein機能は未実装
1,todosの表示もバグが出ている。distinctが必要なのかどうか。getAllComments functionの簡易記述。これが問題なのかどうか
2,todosページのタイトルリンククリック後編集できる機能も必要。
3,requestでtodo_idを渡してtitl、bodyをテキストボックスにあらかじめ表示させる。
4,一括削除機能を実装してあるのでrequstを使うことはそれほど負担ではない。

問題点
todo.phpにCommentクラスのオブジェクトを作ってしまうとComment追加したとき、あるいはtodoを追加したときにそれぞれの管理するテーブルに内容が被ったデータが格納されてしまう。
コメントを追加するとtodoに追加されてしまう。

_ajaxを使わないようにするとエラーが大量に発生してしまうかもしれない。→_ajaxを使いつつTodo.phpを読み込まないような条件分岐を作ればよさそう。